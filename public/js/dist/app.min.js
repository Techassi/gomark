!function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1)}([function(t,e,r){t.exports=function(){var t=function(){function t(){}return t.prototype.then=function(r,n){var o=new t,i=this.s;if(i){var s=1&i?r:n;if(s){try{e(o,1,s(this.v))}catch(t){e(o,2,t)}return o}return this}return this.o=function(t){try{var i=t.v;1&t.s?e(o,1,r?r(i):i):n?e(o,1,n(i)):e(o,2,i)}catch(t){e(o,2,t)}},o},t}();function e(r,n,o){if(!r.s){if(o instanceof t){if(!o.s)return void(o.o=e.bind(null,r,n));1&n&&(n=o.s),o=o.v}if(o&&o.then)return void o.then(e.bind(null,r,n),e.bind(null,r,2));r.s=n,r.v=o;var i=r.o;i&&i(r)}}function r(t,e){try{var r=t()}catch(t){return e(t)}return r&&r.then?r.then(void 0,e):r}var n={};!function(){function r(t){this.t=t,this.i=null,this.u=null,this.h=null,this.l=null}function o(t){return{value:t,done:!0}}function i(t){return{value:t,done:!1}}r.prototype[Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator"))]=function(){return this},r.prototype.p=function(e){return this.u(e&&e.then?e.then(i):i(e)),this.i=new t},r.prototype.next=function(r){var i=this;return i.l=new Promise((function(s){var a=i.i;if(null===a){var u=i.t;if(null===u)return s(i.l);function c(t){i.u(t&&t.then?t.then(o):o(t)),i.i=null,i.u=null}i.t=null,i.u=s,u(i).then(c,(function(e){if(e===n)c(i.h);else{var r=new t;i.u(r),i.i=null,i.u=null,_resolve(r,2,e)}}))}else i.i=null,i.u=s,e(a,1,r)}))},r.prototype.return=function(t){var r=this;return r.l=new Promise((function(i){var s=r.i;if(null===s)return null===r.t?i(r.l):(r.t=null,i(t&&t.then?t.then(o):o(t)));r.h=t,r.u=i,r.i=null,e(s,2,n)}))},r.prototype.throw=function(t){var r=this;return r.l=new Promise((function(n,o){var i=r.i;if(null===i)return null===r.t?n(r.l):(r.t=null,o(t));r.u=n,r.i=null,e(i,2,t)}))}}();var o,i,s=(function(t){var e=t.exports=function(t,e){return e=e||function(){},function(){var r=!1,n=arguments,o=new Promise((function(e,o){var i,s=t.apply({async:function(){return r=!0,function(t,r){t?o(t):e(r)}}},Array.prototype.slice.call(n));r||(!(i=s)||"object"!=typeof i&&"function"!=typeof i||"function"!=typeof i.then?e(s):s.then(e,o))}));return o.then(e.bind(null,null),e),o}};e.cb=function(t,r){return e((function(){var e=Array.prototype.slice.call(arguments);return e.length===t.length-1&&e.push(this.async()),t.apply(this,e)}),r)}}(o={exports:{}}),o.exports);!function(t){t[t.off=0]="off",t[t.error=1]="error",t[t.warning=2]="warning",t[t.info=3]="info",t[t.debug=4]="debug"}(i||(i={}));var a=i.off,u=function(t){this.m=t};u.getLevel=function(){return a},u.setLevel=function(t){return a=i[t]},u.prototype.error=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];this.P(console.error,i.error,t)},u.prototype.warn=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];this.P(console.warn,i.warning,t)},u.prototype.info=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];this.P(console.info,i.info,t)},u.prototype.debug=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];this.P(console.log,i.debug,t)},u.prototype.P=function(t,e,r){e<=u.getLevel()&&t.apply(console,["["+this.m+"] "].concat(r))};var c=function(){this.logger=new u("@barba/core"),this.all=["ready","page","reset","currentAdded","currentRemoved","nextAdded","nextRemoved","beforeAppear","appear","afterAppear","appearCanceled","before","beforeLeave","leave","afterLeave","leaveCanceled","beforeEnter","enter","afterEnter","enterCanceled","after"],this.registered=new Map,this.init()};c.prototype.init=function(){var t=this;this.registered.clear(),this.all.forEach((function(e){t[e]||(t[e]=function(r,n){void 0===n&&(n=null),t.registered.has(e)||t.registered.set(e,new Set),t.registered.get(e).add({ctx:n,fn:r})})}))},c.prototype.do=function(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];if(this.registered.has(t)){var n=Promise.resolve();return this.registered.get(t).forEach((function(t){var r=t.ctx?t.fn.bind(t.ctx):t.fn;n=n.then((function(){return s(r).apply(void 0,e)}))})),n}return Promise.resolve()},c.prototype.clear=function(){var t=this;this.all.forEach((function(e){delete t[e]})),this.init()},c.prototype.help=function(){this.logger.info("Available hooks: "+this.all.join(","));var t=[];this.registered.forEach((function(e,r){return t.push(r)})),this.logger.info("Registered hooks: "+t.join(","))};var h=new c,l=function t(e,r,n){return e instanceof RegExp?function(t,e){if(!e)return t;var r=t.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)e.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return t}(e,r):Array.isArray(e)?function(e,r,n){for(var o=[],i=0;i<e.length;i++)o.push(t(e[i],r,n).source);return new RegExp("(?:"+o.join("|")+")",P(n))}(e,r,n):function(t,e,r){return x(m(t,r),e,r)}(e,r,n)},p=m,f=y,d=x,v="/",g=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function m(t,e){for(var r,n=[],o=0,i=0,s="",a=e&&e.delimiter||v,u=e&&e.whitelist||void 0,c=!1;null!==(r=g.exec(t));){var h=r[0],l=r[1],p=r.index;if(s+=t.slice(i,p),i=p+h.length,l)s+=l[1],c=!0;else{var f="",d=r[2],m=r[3],y=r[4],P=r[5];if(!c&&s.length){var x=s.length-1,E=s[x];(!u||u.indexOf(E)>-1)&&(f=E,s=s.slice(0,x))}s&&(n.push(s),s="",c=!1);var j=m||y,k=f||a;n.push({name:d||o++,prefix:f,delimiter:k,optional:"?"===P||"*"===P,repeat:"+"===P||"*"===P,pattern:j?b(j):"[^"+w(k===a?k:k+a)+"]+?"})}}return(s||i<t.length)&&n.push(s+t.substr(i)),n}function y(t){for(var e=new Array(t.length),r=0;r<t.length;r++)"object"==typeof t[r]&&(e[r]=new RegExp("^(?:"+t[r].pattern+")$"));return function(r,n){for(var o="",i=n&&n.encode||encodeURIComponent,s=0;s<t.length;s++){var a=t[s];if("string"!=typeof a){var u,c=r?r[a.name]:void 0;if(Array.isArray(c)){if(!a.repeat)throw new TypeError('Expected "'+a.name+'" to not repeat, but got array');if(0===c.length){if(a.optional)continue;throw new TypeError('Expected "'+a.name+'" to not be empty')}for(var h=0;h<c.length;h++){if(u=i(c[h],a),!e[s].test(u))throw new TypeError('Expected all "'+a.name+'" to match "'+a.pattern+'"');o+=(0===h?a.prefix:a.delimiter)+u}}else if("string"!=typeof c&&"number"!=typeof c&&"boolean"!=typeof c){if(!a.optional)throw new TypeError('Expected "'+a.name+'" to be '+(a.repeat?"an array":"a string"))}else{if(u=i(String(c),a),!e[s].test(u))throw new TypeError('Expected "'+a.name+'" to match "'+a.pattern+'", but got "'+u+'"');o+=a.prefix+u}}else o+=a}return o}}function w(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function b(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function P(t){return t&&t.sensitive?"":"i"}function x(t,e,r){for(var n=(r=r||{}).strict,o=!1!==r.start,i=!1!==r.end,s=r.delimiter||v,a=[].concat(r.endsWith||[]).map(w).concat("$").join("|"),u=o?"^":"",c=0;c<t.length;c++){var h=t[c];if("string"==typeof h)u+=w(h);else{var l=h.repeat?"(?:"+h.pattern+")(?:"+w(h.delimiter)+"(?:"+h.pattern+"))*":h.pattern;e&&e.push(h),u+=h.optional?h.prefix?"(?:"+w(h.prefix)+"("+l+"))?":"("+l+")?":w(h.prefix)+"("+l+")"}}if(i)n||(u+="(?:"+w(s)+")?"),u+="$"===a?"$":"(?="+a+")";else{var p=t[t.length-1],f="string"==typeof p?p[p.length-1]===s:void 0===p;n||(u+="(?:"+w(s)+"(?="+a+"))?"),f||(u+="(?="+w(s)+"|"+a+")")}return new RegExp(u,P(r))}l.parse=p,l.compile=function(t,e){return y(m(t,e))},l.tokensToFunction=f,l.tokensToRegExp=d;var E={container:"container",namespace:"namespace",prefix:"data-barba",prevent:"prevent",wrapper:"wrapper"},j=function(){this.g=E,this.A=new DOMParser,this.T=null};j.prototype.toString=function(t){return t.outerHTML},j.prototype.toDocument=function(t){return this.A.parseFromString(t,"text/html")},j.prototype.toElement=function(t){var e=document.createElement("div");return e.innerHTML=t,e},j.prototype.getHtml=function(t){return void 0===t&&(t=document),this.toString(t.documentElement)},j.prototype.getWrapper=function(t){return void 0===t&&(t=document),t.querySelector("["+this.g.prefix+'="'+this.g.wrapper+'"]')},j.prototype.getContainer=function(t){return void 0===t&&(t=document),t.querySelector("["+this.g.prefix+'="'+this.g.container+'"]')},j.prototype.removeContainer=function(t){document.body.contains(t)&&(this.T=t.nextElementSibling,t.parentNode.removeChild(t))},j.prototype.addContainer=function(t,e){this.T?e.insertBefore(t,this.T):e.appendChild(t)},j.prototype.getNamespace=function(t){void 0===t&&(t=document);var e=t.querySelector("["+this.g.prefix+"-"+this.g.namespace+"]");return e?e.getAttribute(this.g.prefix+"-"+this.g.namespace):null},j.prototype.getHref=function(t){if(t.tagName&&"a"===t.tagName.toLowerCase()){var e=t.getAttribute("href");if(e)return e.baseVal||e}return null};var k=new j,q=function(){this.j=[]},L={current:{configurable:!0},previous:{configurable:!0},size:{configurable:!0}};q.prototype.init=function(t,e){var r={index:0,ns:e,scroll:{x:window.scrollX,y:window.scrollY},url:t};this.j.push(r),window.history&&window.history.replaceState(r,"",r.url)},q.prototype.add=function(t,e,r,n){void 0===r&&(r=null),void 0===n&&(n=!0);var o={index:r||this.size,ns:e,scroll:{x:window.scrollX,y:window.scrollY},url:t};this.j.push(o),n&&window.history&&window.history.pushState(o,"",o.url)},q.prototype.remove=function(){this.j.pop()},q.prototype.clear=function(){this.j=[]},q.prototype.update=function(t){var e=Object.assign({},this.current,t);this.current=e,window.history&&window.history.replaceState(e,"",e.url)},q.prototype.cancel=function(){this.remove(),window.history&&window.history.back()},q.prototype.get=function(t){return this.j[t]},q.prototype.getDirection=function(t){var e="popstate";return t<this.current.index?e="back":t>this.current.index&&(e="forward"),e},L.current.get=function(){return this.j[this.j.length-1]},L.current.set=function(t){this.j[this.j.length-1]=t},L.previous.get=function(){return this.j.length<2?null:this.j[this.j.length-2]},L.size.get=function(){return this.j.length},Object.defineProperties(q.prototype,L);var A=new q,S=function(t,e){try{var r=function(){if(!e.next.html)return Promise.resolve(t).then((function(t){var r=e.next;if(t){var n=k.toElement(t);r.namespace=k.getNamespace(n),r.container=k.getContainer(n),r.html=t,A.update({ns:r.namespace});var o=k.toDocument(t);document.title=o.title}}))}();return Promise.resolve(r&&r.then?r.then((function(){})):void 0)}catch(t){return Promise.reject(t)}},O=l,T={update:S,nextTick:function(){return new Promise((function(t){window.requestAnimationFrame(t)}))},pathToRegexp:O},R=function(){return window.location.origin},H=function(t){var e=t||window.location.port,r=window.location.protocol;return""!==e?parseInt(e,10):"https:"===r?443:80},N=function(t){var e,r=t.replace(R(),""),n={},o=r.indexOf("#");o>=0&&(e=r.slice(o+1),r=r.slice(0,o));var i=r.indexOf("?");return i>=0&&(n=I(r.slice(i+1)),r=r.slice(0,i)),{hash:e,path:r,query:n}},I=function(t){return t.split("&").reduce((function(t,e){var r=e.split("=");return t[r[0]]=r[1],t}),{})},_=function(t){return t.replace(/(\/#.*|\/|#.*)$/,"")},C={getHref:function(){return window.location.href},getOrigin:R,getPort:H,getPath:function(t){return N(t).path},parse:N,parseQuery:I,clean:_},M=function(t){if(this.k=[],"boolean"==typeof t)this.O=t;else{var e=Array.isArray(t)?t:[t];this.k=e.map((function(t){return O(t)}))}};M.prototype.checkUrl=function(t){if("boolean"==typeof this.O)return this.O;var e=N(t).path;return this.k.some((function(t){return null!==t.exec(e)}))};var $=function(t){function e(e){t.call(this,e),this.j=new Map}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t,e,r){return this.checkUrl(t)||this.j.set(t,{action:r,request:e}),{action:r,request:e}},e.prototype.get=function(t){return this.j.get(t)},e.prototype.getRequest=function(t){return this.j.get(t).request},e.prototype.getAction=function(t){return this.j.get(t).action},e.prototype.has=function(t){return this.j.has(t)},e.prototype.delete=function(t){return this.j.delete(t)},e.prototype.update=function(t,e){var r=Object.assign({},this.j.get(t),e);return this.j.set(t,r),r},e}(M);function D(t,e,r){return void 0===e&&(e=2e3),new Promise((function(n,o){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(i.readyState===XMLHttpRequest.DONE)if(200===i.status)n(i.responseText);else if(i.status){var e={status:i.status,statusText:i.statusText};r(t,e),o(e)}},i.ontimeout=function(){var n=new Error("Timeout error ["+e+"]");r(t,n),o(n)},i.onerror=function(){var e=new Error("Fetch error");r(t,e),o(e)},i.open("GET",t),i.timeout=e,i.setRequestHeader("Accept","text/html,application/xhtml+xml,application/xml"),i.setRequestHeader("x-barba","yes"),i.send()}))}var F=function(){return!window.history.pushState},U=function(t){return!t.el||!t.href},K=function(t){var e=t.event;return e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey},B=function(t){var e=t.el;return e.hasAttribute("target")&&"_blank"===e.target},W=function(t){var e=t.el;return void 0!==e.protocol&&window.location.protocol!==e.protocol||void 0!==e.hostname&&window.location.hostname!==e.hostname},X=function(t){var e=t.el;return void 0!==e.port&&H()!==H(e.port)},V=function(t){var e=t.el;return e.getAttribute&&"string"==typeof e.getAttribute("download")},G=function(t){return t.el.hasAttribute(E.prefix+"-"+E.prevent)},Y=function(t){return Boolean(t.el.closest("["+E.prefix+"-"+E.prevent+'="all"]'))},z=function(t){return _(t.href)===_(window.location.href)},Q=function(t){function e(e){t.call(this,e),this.suite=[],this.tests=new Map,this.init()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.init=function(){this.add("pushState",F),this.add("exists",U),this.add("newTab",K),this.add("blank",B),this.add("corsDomain",W),this.add("corsPort",X),this.add("download",V),this.add("preventSelf",G),this.add("preventAll",Y),this.add("sameUrl",z,!1)},e.prototype.add=function(t,e,r){void 0===r&&(r=!0),this.tests.set(t,e),r&&this.suite.push(t)},e.prototype.run=function(t,e,r,n){return this.tests.get(t)({el:e,event:r,href:n})},e.prototype.checkLink=function(t,e,r){var n=this;return this.suite.some((function(o){return n.run(o,t,e,r)}))},e}(M),J=function(t){void 0===t&&(t=[]),this.logger=new u("@barba/core"),this.all=[],this.appear=[],this.R=[{name:"namespace",type:"strings"},{name:"custom",type:"function"}],t&&(this.all=this.all.concat(t)),this.update()};J.prototype.add=function(t,e){switch(t){case"rule":this.R.splice(e.position||0,0,e.value);break;case"transition":default:this.all.push(e)}this.update()},J.prototype.resolve=function(t,e){var r,n=this;void 0===e&&(e={});var o=e.appear?this.appear:this.all;o=o.filter(e.self?function(t){return t.name&&"self"===t.name}:function(t){return!t.name||"self"!==t.name});var i=new Map,s=o.find((function(r){var o=!0,s={};return!(!e.self||"self"!==r.name)||(n.R.reverse().forEach((function(i){o&&(o=n.L(r,i,t,s),e.appear||(r.from&&r.to&&(o=n.L(r,i,t,s,"from")&&n.L(r,i,t,s,"to")),r.from&&!r.to&&(o=n.L(r,i,t,s,"from")),!r.from&&r.to&&(o=n.L(r,i,t,s,"to"))))})),i.set(r,s),o)})),a=i.get(s),u=[];if(u.push(e.appear?"appear":"page"),e.self&&u.push("self"),a){var c=[s];Object.keys(a).length>0&&c.push(a),(r=this.logger).info.apply(r,["Transition found ["+u.join(",")+"]"].concat(c))}else this.logger.info("No transition found ["+u.join(",")+"]");return s},J.prototype.update=function(){var t=this;this.all=this.all.map((function(e){return t.M(e)})).sort((function(t,e){return t.priority-e.priority})).reverse().map((function(t){return delete t.priority,t})),this.appear=this.all.filter((function(t){return void 0!==t.appear}))},J.prototype.L=function(t,e,r,n,o){var i=!0,s=!1,a=t,u=e.name,c=u,h=u,l=u,p=o?a[o]:a,f="to"===o?r.next:r.current;if(o?p&&p[u]:p[u]){switch(e.type){case"strings":default:var d=Array.isArray(p[c])?p[c]:[p[c]];f[c]&&-1!==d.indexOf(f[c])&&(s=!0),-1===d.indexOf(f[c])&&(i=!1);break;case"object":var v=Array.isArray(p[h])?p[h]:[p[h]];f[h]&&(f[h].name&&-1!==v.indexOf(f[h].name)&&(s=!0),-1===v.indexOf(f[h].name)&&(i=!1));break;case"function":p[l](r)?s=!0:i=!1}s&&(o?(n[o]=n[o]||{},n[o][u]=a[o][u]):n[u]=a[u])}return i},J.prototype.S=function(t,e,r){var n=0;return(t[e]||t.from&&t.from[e]||t.to&&t.to[e])&&(n+=Math.pow(10,r),t.from&&t.from[e]&&(n+=1),t.to&&t.to[e]&&(n+=2)),n},J.prototype.M=function(t){var e=this;t.priority=0;var r=0;return this.R.forEach((function(n,o){r+=e.S(t,n.name,o+1)})),t.priority=r,t};var Z=function(t){void 0===t&&(t=[]),this.logger=new u("@barba/core"),this.$=!1,this.store=new J(t)},tt={isRunning:{configurable:!0},hasAppear:{configurable:!0},hasSelf:{configurable:!0},shouldWait:{configurable:!0}};Z.prototype.get=function(t,e){return this.store.resolve(t,e)},tt.isRunning.get=function(){return this.$},tt.isRunning.set=function(t){this.$=t},tt.hasAppear.get=function(){return this.store.appear.length>0},tt.hasSelf.get=function(){return this.store.all.some((function(t){return"self"===t.name}))},tt.shouldWait.get=function(){return this.store.all.some((function(t){return t.to&&!t.to.route||t.sync}))},Z.prototype.doAppear=function(t){var e=t.data,n=t.transition;try{var o=this;function i(t){o.$=!1}var s=n||{};o.$=!0;var a=r((function(){return Promise.resolve(o.q("beforeAppear",e,s)).then((function(){return Promise.resolve(o.appear(e,s)).then((function(){return Promise.resolve(o.q("afterAppear",e,s)).then((function(){}))}))}))}),(function(t){throw o.$=!1,o.logger.error(t),new Error("Transition error [appear]")}));return a&&a.then?a.then(i):i()}catch(t){return Promise.reject(t)}},Z.prototype.doPage=function(t){var e=t.data,n=t.transition,o=t.page,i=t.wrapper;try{var s=this;function a(t){s.$=!1}var u=n||{},c=!0===u.sync||!1;s.$=!0;var h=r((function(){function t(){return Promise.resolve(s.q("before",e,u)).then((function(){function t(t){return Promise.resolve(s.q("after",e,u)).then((function(){return Promise.resolve(s.remove(e)).then((function(){}))}))}var n=function(){if(c)return r((function(){return Promise.resolve(s.add(e,i)).then((function(){return Promise.resolve(s.q("beforeLeave",e,u)).then((function(){return Promise.resolve(s.q("beforeEnter",e,u)).then((function(){return Promise.resolve(Promise.all([s.leave(e,u),s.enter(e,u)])).then((function(){return Promise.resolve(s.q("afterLeave",e,u)).then((function(){return Promise.resolve(s.q("afterEnter",e,u)).then((function(){}))}))}))}))}))}))}),(function(){throw new Error("Transition error [page][sync]")}));{function t(t){return r((function(){var t=function(){if(!1!==n)return Promise.resolve(s.add(e,i)).then((function(){return Promise.resolve(s.q("beforeEnter",e,u)).then((function(){return Promise.resolve(s.enter(e,u,n)).then((function(){return Promise.resolve(s.q("afterEnter",e,u)).then((function(){}))}))}))}))}();if(t&&t.then)return t.then((function(){}))}),(function(){throw new Error("Transition error [page][enter]")}))}var n=!1,a=r((function(){return Promise.resolve(s.q("beforeLeave",e,u)).then((function(){return Promise.resolve(Promise.all([s.leave(e,u),S(o,e)]).then((function(t){return t[0]}))).then((function(t){return n=t,Promise.resolve(s.q("afterLeave",e,u)).then((function(){}))}))}))}),(function(){throw new Error("Transition error [page][leave]")}));return a&&a.then?a.then(t):t()}}();return n&&n.then?n.then(t):t()}))}var n=function(){if(c)return Promise.resolve(S(o,e)).then((function(){}))}();return n&&n.then?n.then(t):t()}),(function(t){throw s.$=!1,s.logger.error(t),new Error("Transition error")}));return h&&h.then?h.then(a):a()}catch(t){return Promise.reject(t)}},Z.prototype.appear=function(t,e){try{return Promise.resolve(h.do("appear",t,e)).then((function(){return e.appear?s(e.appear)(t):Promise.resolve()}))}catch(t){return Promise.reject(t)}},Z.prototype.leave=function(t,e){try{return Promise.resolve(h.do("leave",t,e)).then((function(){return e.leave?s(e.leave)(t):Promise.resolve()}))}catch(t){return Promise.reject(t)}},Z.prototype.enter=function(t,e,r){try{return Promise.resolve(h.do("enter",t,e)).then((function(){return e.enter?s(e.enter)(t,r):Promise.resolve()}))}catch(t){return Promise.reject(t)}},Z.prototype.add=function(t,e){try{k.addContainer(t.next.container,e),h.do("nextAdded",t)}catch(t){return Promise.reject(t)}},Z.prototype.remove=function(t){try{k.removeContainer(t.current.container),h.do("currentRemoved",t)}catch(t){return Promise.reject(t)}},Z.prototype.q=function(t,e,r){try{return Promise.resolve(h.do(t,e,r)).then((function(){return r[t]?s(r[t])(e):Promise.resolve()}))}catch(t){return Promise.reject(t)}},Object.defineProperties(Z.prototype,tt);var et=function(t){var e=this;this.names=["beforeAppear","afterAppear","beforeLeave","afterLeave","beforeEnter","afterEnter"],this.byNamespace=new Map,0!==t.length&&(t.forEach((function(t){e.byNamespace.set(t.namespace,t)})),this.names.forEach((function(t){h[t](e.C(t),e)})))};et.prototype.C=function(t){var e=this;return function(r){var n=t.match(/enter/i)?r.next:r.current,o=e.byNamespace.get(n.namespace);o&&o[t]&&o[t](r)}},Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});var rt={container:void 0,html:void 0,namespace:void 0,url:{hash:void 0,href:void 0,path:void 0,query:{}}},nt=function(){this.version="2.6.0",this.schemaPage=rt,this.Logger=u,this.logger=new u("@barba/core"),this.plugins=[],this.hooks=h,this.dom=k,this.helpers=T,this.history=A,this.request=D,this.url=C},ot={data:{configurable:!0},wrapper:{configurable:!0}};return nt.prototype.use=function(t,e){var r=this.plugins;r.indexOf(t)>-1?this.logger.warn("Plugin ["+t.name+"] already installed."):"function"==typeof t.install?(t.install(this,e),r.push(t)):this.logger.warn("Plugin ["+t.name+'] has no "install" method.')},nt.prototype.init=function(t){void 0===t&&(t={});var e=t.transitions;void 0===e&&(e=[]);var r=t.views;void 0===r&&(r=[]);var n=t.prevent;void 0===n&&(n=null);var o=t.timeout;void 0===o&&(o=2e3);var i=t.requestError,s=t.cacheIgnore;void 0===s&&(s=!1);var a=t.prefetchIgnore;void 0===a&&(a=!1);var c=t.schema;void 0===c&&(c=E);var h=t.debug;void 0===h&&(h=!1);var l=t.logLevel;if(void 0===l&&(l="off"),u.setLevel(!0===h?"debug":l),this.logger.info(this.version),Object.keys(c).forEach((function(t){E[t]&&(E[t]=c[t])})),this.B=i,this.timeout=o,this.cacheIgnore=s,this.prefetchIgnore=a,this.H=this.dom.getWrapper(),!this.H)throw new Error("[@barba/core] No Barba wrapper found");this.H.setAttribute("aria-live","polite"),this.I();var p=this.data.current;if(!p.container)throw new Error("[@barba/core] No Barba container found");if(this.cache=new $(s),this.prevent=new Q(a),this.transitions=new Z(e),this.views=new et(r),null!==n){if("function"!=typeof n)throw new Error("[@barba/core] Prevent should be a function");this.prevent.add("preventCustom",n)}this.history.init(p.url.href,p.namespace),this.N=this.N.bind(this),this.U=this.U.bind(this),this.D=this.D.bind(this),this.X(),this.plugins.forEach((function(t){return t.init()}));var f=this.data;f.trigger="barba",f.next=f.current,this.hooks.do("ready",f),this.appear(f),this.I()},nt.prototype.destroy=function(){this.I(),this._(),this.history.clear(),this.hooks.clear(),this.plugins=[]},ot.data.get=function(){return this.F},ot.wrapper.get=function(){return this.H},nt.prototype.force=function(t){window.location.assign(t)},nt.prototype.go=function(t,e,r){var n;if(void 0===e&&(e="barba"),this.transitions.isRunning)this.force(t);else if(!(n="popstate"===e?this.history.current&&this.url.getPath(this.history.current.url)===this.url.getPath(t):this.prevent.run("sameUrl",null,null,t))||this.transitions.hasSelf){if("popstate"===e){var o=r.state;e=this.history.getDirection(o.index),this.history.add(t,o.ns,o.index,!1)}else this.history.add(t,"tmp");return r&&(r.stopPropagation(),r.preventDefault()),this.page(t,e,n)}},nt.prototype.appear=function(t){try{var e=this;return Promise.resolve(e.hooks.do("beforeEnter",t)).then((function(){function n(){return Promise.resolve(e.hooks.do("afterEnter",t)).then((function(){}))}var o=function(){if(e.transitions.hasAppear){var n=r((function(){var r=e.transitions.get(t,{appear:!0});return Promise.resolve(e.transitions.doAppear({transition:r,data:t})).then((function(){}))}),(function(t){e.logger.error(t)}));if(n&&n.then)return n.then((function(){}))}}();return o&&o.then?o.then(n):n()}))}catch(t){return Promise.reject(t)}},nt.prototype.page=function(t,e,n){try{var o=this;function i(){var t=o.data;return Promise.resolve(o.hooks.do("page",t)).then((function(){var e=r((function(){var e=o.transitions.get(t,{appear:!1,self:n});return Promise.resolve(o.transitions.doPage({data:t,page:s,transition:e,wrapper:o.H})).then((function(){o.I()}))}),(function(t){o.logger.error(t)}));if(e&&e.then)return e.then((function(){}))}))}o.data.next.url=Object.assign({},{href:t},o.url.parse(t)),o.data.trigger=e;var s=o.cache.has(t)?o.cache.update(t,{action:"click"}).request:o.cache.set(t,o.request(t,o.timeout,o.onRequestError.bind(o,e)),"click").request,a=function(){if(o.transitions.shouldWait)return Promise.resolve(S(s,o.data)).then((function(){}))}();return a&&a.then?a.then(i):i()}catch(t){return Promise.reject(t)}},nt.prototype.onRequestError=function(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];this.transitions.isRunning=!1;var n=e[0],o=e[1],i=this.cache.getAction(n);return this.cache.delete(n),!(this.B&&!1===this.B(t,i,n,o)||("click"===i&&this.force(n),1))},nt.prototype.prefetch=function(t){var e=this;this.cache.has(t)||this.cache.set(t,this.request(t,this.timeout,this.onRequestError.bind(this,"barba")).catch((function(t){e.logger.error(t)})),"prefetch")},nt.prototype.X=function(){!0!==this.prefetchIgnore&&(document.addEventListener("mouseover",this.N),document.addEventListener("touchstart",this.N)),document.addEventListener("click",this.U),window.addEventListener("popstate",this.D)},nt.prototype._=function(){!0!==this.prefetchIgnore&&(document.removeEventListener("mouseover",this.N),document.removeEventListener("touchstart",this.N)),document.removeEventListener("click",this.U),window.removeEventListener("popstate",this.D)},nt.prototype.N=function(t){var e=this,r=this.G(t);if(r){var n=this.dom.getHref(r);this.prevent.checkUrl(n)||this.cache.has(n)||this.cache.set(n,this.request(n,this.timeout,this.onRequestError.bind(this,r)).catch((function(t){e.logger.error(t)})),"enter")}},nt.prototype.U=function(t){var e=this.G(t);e&&this.go(this.dom.getHref(e),e,t)},nt.prototype.D=function(t){this.go(this.url.getPath(this.url.getHref()),"popstate",t)},nt.prototype.G=function(t){for(var e=t.target;e&&!this.dom.getHref(e);)e=e.parentNode;if(e&&!this.prevent.checkLink(e,t,this.dom.getHref(e)))return e},nt.prototype.I=function(){var t=this.url.getPath(this.url.getHref()),e={container:this.dom.getContainer(),html:this.dom.getHtml(),namespace:this.dom.getNamespace(),url:Object.assign({},{href:t},this.url.parse(t))};this.F={current:e,next:Object.assign({},this.schemaPage),trigger:void 0},this.hooks.do("reset",this.data)},Object.defineProperties(nt.prototype,ot),new nt}()},function(t,e,r){"use strict";r.r(e);var n=r(0),o=r.n(n);const i="parameters_invalid",s="credentials_invalid",a="2fa_required";console.info("%cðŸ—² gomark @ https://github.com/Techassi/gomark","color: #FFF; background: #011C41; padding: 10px 10px;");let u=new class{constructor(){this.Init=t=>{let e=t.next.container;this.store={dom:{username:e.querySelector("input.username"),password:e.querySelector("input.password"),login:e.querySelector("button.login")}},this.initHandlers()},this.Kill=()=>{this.killHandlers()},this.initHandlers=()=>{this.store.dom.login.addEventListener("click",this.sendLoginRequest)},this.killHandlers=()=>{this.store.dom.login.removeEventListener("click",this.sendLoginRequest)},this.sendLoginRequest=()=>{var t=new FormData;t.append("username",this.store.dom.username.value),t.append("password",this.store.dom.password.value),fetch("/auth/login",{method:"POST",body:t}).then(t=>{if(t.ok)return t.json();throw new Error(t.statusText)}).then(t=>{200==t.status?t.message!=a?window.location.replace("/"):this.show2FACodeInput():t.message==i?console.log("Your credentials cannot be empty"):t.message==s?console.log("Your credentials are invalid"):console.log("There was an error loggin you in")}).catch(t=>{throw new Error(t)})},this.show2FACodeInput=()=>{console.log("2FA")}}},c=new class{constructor(){this.Init=t=>{t.next.container;this.store={dom:{slider:document.querySelector(".slider"),navbutton:document.querySelector(".menu"),nav:document.querySelector("nav.side")}},this.initHandlers()},this.Kill=()=>{this.killHandlers()},this.initHandlers=()=>{this.store.dom.slider.addEventListener("click",this.switchView),this.store.dom.navbutton.addEventListener("click",this.toggleNav)},this.killHandlers=()=>{this.store.dom.slider.removeEventListener("click",this.switchView),this.store.dom.navbutton.removeEventListener("click",this.toggleNav)},this.toggleNav=()=>{this.store.dom.nav.classList.toggle("open")},this.switchView=()=>{console.log("Switch View")}}};o.a.init({debug:!0,transitions:[{name:"default-transition",leave:t=>new Promise(e=>{anime({targets:t.current.container,opacity:[1,0],duration:500,easing:"linear",complete:()=>{e()}})}),enter:t=>new Promise(e=>{e(),anime({targets:t.next.container,opacity:[0,1],duration:500,easing:"linear"})})}],views:[{namespace:"login",beforeEnter(t){u.Init(t)},afterEnter(){},beforeLeave(){u.Kill()}},{namespace:"home",beforeEnter(t){console.log(t),c.Init(t)},afterEnter(){},beforeLeave(){c.Kill()}}]})}]);